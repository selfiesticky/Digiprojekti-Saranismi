<!DOCTYPE html>
<html lang="en">
<head>
    
    <title>Helga Pinder</title>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Merienda" rel="stylesheet">
    <link rel="stylesheet" href="css/tyyli.css">

    
</head>
<body>



    

    
<div class="container"> 
  <div id="myCarousel" class="carousel slide" data-ride="carousel" data-interval="false">
    <!-- Indicators -->
    <ol class="carousel-indicators">
      <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
      <li data-target="#myCarousel" data-slide-to="1"></li>
      <li data-target="#myCarousel" data-slide-to="2"></li>
	  <li data-target="#myCarousel" data-slide-to="3"></li>
    </ol>

    <!-- Wrapper for slides -->
    <div class="carousel-inner" role="listbox">
      <div class="item active">
       <div alt="Kysymys1" id="kysymys1" style="width:100%;"> 
        </div>
	 </div>

      <div class="item">
       <div alt="Kysymys2" id="kysymys2" style="width:100%;"> 
        </div>
      </div>
    
      <div class="item">
        <div alt="Kysymys3" id="kysymys3" style="width:100%;"> 
        </div>
      </div>
	
	   <div class="item">
        <div alt="Kysymys4" id="kysymys4" style="width:100%;"> 
        </div>
      </div>
    </div>

    <!-- Left and right controls -->
    <a class="left carousel-control" href="#myCarousel" data-slide="prev">
      <span class="glyphicon glyphicon-chevron-left"></span>
      <span class="sr-only">Previous</span>
    </a>
    <a class="right carousel-control" href="#myCarousel" data-slide="next">
      <span class="glyphicon glyphicon-chevron-right"></span>
      <span class="sr-only">Next</span>
    </a>
  </div>
</div>

<script>
       $.getJSON("http://proto326.haaga-helia.fi:8080/pepemake/kyselyt/1/kysymykset", function(data) {
           
            var items = [];
            var i = 0;
           
           items5 = [];
           $.each(data, function (key, d) {
                if (d.kysymykset[2].kysymystyyppi == "radio") {
                    items5.push(d.kysymykset[2].kysymysteksti + " : <br>");
		}
 
     
            $.each(data, function (key, d) {
                if (d.kysymykset[5].kysymystyyppi == "textarea") {
                    items.push(d.kysymykset[5].kysymysteksti + ": "+ "<form class="+"tekstikentta"+"><textarea id="+"teksti"+"></textarea></form> ");
                    /*items.push("<input kysymystyyppi=" + d.kysymykset[5].kysymystyyppi + " id= " + d.kysymykset[5].kysymys_id + "><br>");*/
                }
               
                
                
            });
           
            
          


            $("<div/>", {
                "class": "my-new-list",
                html: items.join("")
            }).appendTo("#kysymys1");
           
           items2 = [];
           $.each(data, function (key, d) {
                if (d.kysymykset[6].kysymystyyppi == "radio") {
                    items2.push(d.kysymykset[6].kysymysteksti + ": ");
                    items2.push("<input kysymystyyppi=" + d.kysymykset[6].kysymystyyppi + " id= " + d.kysymykset[6].kysymys_id + "><br>");
                    /*	Radio ja Checkboxeihin tulisi kai näin?
                    
                    for (i = 0; i < d.value.length; i++) { 
	items.push("<input type=" + d.type + " id= "+ d.value[6]+ " name= "+ d.name+" value="+ d.value[6]+">"+d.value[6]+"<br>" ); */
                }
               
                
                
            });
         
            
          


            $("<div/>", {
                "class": "kysymys2",
                html: items2.join("")
            }).appendTo("#kysymys2");
           
		   
		   items3 = [];
           $.each(data, function (key, d) {
                if (d.kysymykset[7].kysymystyyppi == "radio") {
                    items3.push(d.kysymykset[7].kysymysteksti + ": ");
                    items3.push("<input kysymystyyppi=" + d.kysymykset[7].kysymystyyppi + " id= " + d.kysymykset[7].kysymys_id + "><br>");
                }
               
                
                
            });
         
            
          
            $("<div/>", {
                "class": "kysymys3",
                html: items3.join("")
            }).appendTo("#kysymys3");
		   
		   
		   
		  
           
		   
		   items4 = [];
           $.each(data, function (key, d) {
                if (d.kysymykset[3].kysymystyyppi == "checkbox") {
                    items4.push(d.kysymykset[3].kysymysteksti + ": ");
                    items4.push("<input kysymystyyppi=" + d.kysymykset[3].kysymystyyppi + " id= " + d.kysymykset[3].kysymys_id + "><br>");
                }
               
                
                
            });
         
            
          


            $("<div/>", {
                "class": "kysymys4",
                html: items4.join("")
            }).appendTo("#kysymys4");
		   
        });

    
    
/* DATAN LÄHETTÄMINEN Mirjan esimerkistä*/
    


function laheta(){
		
	var kehitys = document.getElementById([6]).value;	
    
    var arvio = document.querySelector('input[name = "arvio"]:checked').value;
    //alert("sukupuoli " + sukupuoli);
    
    var osaaminen = document.querySelector('input[name = "osaaminen"]:checked').value;
	
	var harrastukset="";
	var taulukko=[];
	$("input:checkbox[name=opintojakso]:checked").each(function(){
    taulukko.push($(this).val());
	});
	
	for (i = 0; i < taulukko.length; i++) { 
	//alert(taulukko[i]);
	opintojakso=opintojakso +" "+ taulukko[i];
	}
	alert("Miten kehittäisit opintojaksoa? : "+kehitys+"<br>Kokonaisarvio opintojaksosta: "+arvio+"<br>Arvio oaa osuuttasi oppimisessa, sekä osaamistavoitteiden saavuttamisessa: " +osaaminen+ "<br>Mitä hyvää oli opintojaksossa?: "+ opintojakso);
}        

    
    
/* TÄHÄN LOPPUU MIRJAN ESIMERKISTÄ KOPIOITU JA MUOKATTU JUTTU 
Seuraava esimerkki on otettu Moodlesta "Esimerkki POST-metodin kutsusta ajaxilla" */

$(document).ready(function(){

var jsonData = {"kymysId":"1234", "vastaus":"23"};

/* stringify-metodia tarvitaan vain alert-funktiota varten. */
var myJSON = JSON.stringify(jsonData);


$("button").click(function(){
    
	$.ajax({
    url: 'https://www.mocky.io/v2/5185415ba171ea3a00704eed',
    type: 'POST',
    dataType: 'json',
    data: jsonData, 
    success: function() { alert('POST completed. Data:' + myJSON)}
});
	
}); 


});

</script>
 
<button onclick="laheta()">Lähetä kurssipalaute</button>    
    
</body>

</html>


<!-- if (d.type == "radio" || d.type == "checkbox") {
                    items.push("<br>" + d.kysymys + ":<br>");

                    for (i = 0; i < d.value.length; i++) {
                        items.push("<input type=" + d.type + " id= " + d.value[i] + " name= " + d.name + " value=" + d.value[i] + ">" + d.value[i] + "<br>");
                    }
                }
            });
//--> 



<!-- 

$(document).ready(function(){

/*Luodaan JavaScript-olio, joka sisältää palvelimelle lähetettävän vastauksen tiedot.
kysymysId on kysymyksen id
vastaus on käyttäjän antama vastaus. "Tässä tapauksessa vastaus kysymykseen Kuinka vanha olet?"
Tässä oletetaan, että vastauksen id luodaan palvelinpäässä.
*/

var jsonData = {"kymysId":"1234", "vastaus":"23"};

/* stringify-metodia tarvitaan vain alert-funktiota varten. */
var myJSON = JSON.stringify(jsonData);


$("button").click(function(){
    
	$.ajax({
    url: 'https://www.mocky.io/v2/5185415ba171ea3a00704eed',
    type: 'POST',
    dataType: 'json',
    data: jsonData, 
    success: function() { alert('POST completed. Data:' + myJSON)}
});
	
}); 


});


//-->
